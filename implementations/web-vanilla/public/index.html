<!doctype html>
<html>
  <head>
    <title>Test SDK page</title>
    <script src="/dist/index.umd.cjs"></script>
  </head>
  <body>
    <script>
      var optimization = new Optimization({
        optimizationKey: '<!--#echo var="NGINX_NINETAILED_CLIENT_ID" -->',
        optimizationEnv: '<!--#echo var="NGINX_NINETAILED_ENVIRONMENT" -->',
        contentToken: '<!--#echo var="NGINX_CONTENTFUL_TOKEN" -->',
        contentEnv: '<!--#echo var="NGINX_CONTENTFUL_ENVIRONMENT" -->',
        contentSpaceId: '<!--#echo var="NGINX_CONTENTFUL_SPACE_ID" -->',
        logLevel: 'debug',
        api: {
          analytics: { baseUrl: '<!--#echo var="NGINX_INSIGHTS_API_BASE_URL" -->' },
          personalization: { baseUrl: '<!--#echo var="NGINX_EXPERIENCE_API_BASE_URL" -->/' },
        },
      })

      var p = document.createElement('p')
      p.dataset.testid = 'optimizationKey'
      p.innerText = optimization.config.optimizationKey
      document.body.appendChild(p)
    </script>
  </body>
</html>
