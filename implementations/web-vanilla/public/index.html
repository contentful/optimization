<!doctype html>
<html>
  <head>
    <title>Test SDK page</title>
    <script type="module" src="/dist/index.umd.cjs"></script>
  </head>
  <body>
    <script type="module">
      // TODO: Fix the Vite config so we don't need to use `default`
      var optimization = new Optimization.default({
        clientId: '<!--#echo var="NGINX_NINETAILED_CLIENT_ID" -->',
        environment: '<!--#echo var="NGINX_NINETAILED_ENVIRONMENT" -->',
        logLevel: 'debug',
        api: {
          analytics: { baseUrl: '<!--#echo var="NGINX_INSIGHTS_API_BASE_URL" -->' },
          personalization: { baseUrl: '<!--#echo var="NGINX_EXPERIENCE_API_BASE_URL" -->/' },
        },
      })

      var p = document.createElement('p')
      p.dataset.testid = 'clientId'
      p.innerText = optimization.config.clientId
      document.body.appendChild(p)
    </script>
  </body>
</html>
